The three python files provided function together to provide projections of reported cumulative cases for health regions specified in PopulationSizes.csv

buildIncidence.py

This file takes timeseries_hr.csv and filters out the relevant information for the health regions specified in PopulationSizes.csv.

When run, this will create new csv files – one for each specified health region. They are of the form healthregionnamedata.csv

It is these output files that are fed into HC-ODEfit.py

odefitCallable.py

This file is the main driver and takes the longest to run. This file fits a simple ODE model to the data using population sizes for each health region given in PopulationSizes.csv

There are some key parameters in this file that you can play with if fits are not acceptably good:
-	The variables start_date1 and start_date on lines 126 and 128 respectively can be changed depending on how much data you would like to use. Currently they use data from December 1, 2020  onward. These dates ideally would be set to the beginning of the latest `wave’, but given the  small numbers in most health regions, the best fits come when using the last month to two months of data to project forward.
-	The function M on line 57 denotes the effectiveness overtime of non-pharmaceutical intervention. This function is currently given as an exponential function, but can be extended to any function. There are three unused parameters in the model: A, n, m1 that can be used to parametrize different M functions.
-	If the fits seem to be off, the thresholds on line 226 can be lowered to only accept tighter fits. Currently these thresholds are set to 500. Lowering these can cause the program to take longer to run!
-	The threshold on line 269 can be changed to reduce the number of simulations to speed up the program.
-	If the program halts for whatever reason, it is not necessary to start over, thee results before the crash are still good! Changing parameter i on line 267 will begin the program where it last left off.
-	The folder name to save the data generated is specified on line 106. If running multiple fits and wanting to keep the old data without overwriting, it is important to change this name.

The goal is to create an interfacing file where these can all be changed before running the code from a csv file. This is slow going as it takes a substantial restructuring of the code.


summarize.py

This file creates figures, parameter estimates and most importantly the file healthregionnameforecast.csv based on the information generated by HC-ODEfit.py. 

Note that HC-ODEfit need not completely run in order to use HC-summarize.py.

As long as there are at least a few simulations (a numbered text file and a numbered png file) for the health region, forecasts can be made. 

The more simulations, the better the forecasting.

modelWithVaccineIntervention.py

This file is similar to summarize.py but includes modifications for vaccine intervention. 


Running the files

The files can be run via a command line by using one of the following commands:

python3 filename.py
python filename.py
py filename.py
py -3 filename.py

depending on your operating system and python installation. The first command on the list is the most likely command for macOS, the last command in the list is the most likely for Windows 10.
